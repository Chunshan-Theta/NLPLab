 code（快速響應碼）的縮寫，是日本一家製造公司在1994年發明的一種二維編碼。起初這公司為了能即時監控生產線上的零件，採用傳統一維條碼做為零件自動化辨識的依據，結果遇到一些技術上的問題。例如，條碼長度會隨著ID長度變長而無法黏貼在小零件上，以及傳統一維條碼很容易受到工廠中的粉塵影響，使掃描器無法正確辨識。QR碼便是為了克服這些技術難題而誕生的。

相較於傳統的一維條碼，QR碼占據的影像面積較小，可儲存的資訊則更多。每個QR碼除了可以快速被機器辨識外，內建的容錯機制更允許影像在接近30％損毀的情況下，仍可確保原始資料能正確地被掃描軟體解讀。因此，QR碼快速成為全球標準的二維條碼規格，成為連接數位世界與現實世界的便捷橋梁。

隨著智慧型手機的普及，民眾能輕易透過手機內建的照相鏡頭，搭配從APP商店下載的任意一款QR碼解碼軟體直接掃描QR碼，把隱藏的資訊解碼並傳送到手機，獲得更多額外的商品訊息，例如生產履歷或促銷活動等。如此便捷的溝通方式，使得QR碼大量運用於商品的廣告行銷。

然而，究竟有多少人會主動拿起手機掃描包裝上面的QR碼呢？相信大家心知肚明。QR碼外觀看起來是由雜亂無章的黑白方塊所組成，除非有足夠的動機，否則通常消費者不會主動掃描QR碼。另一方面，QR碼仍占有包裝表面上一定的面積，容易破壞產品原本精美的外觀設計，消費者也難以從外觀上區別不同QR碼所對應的活動訊息。換句話說，傳統的QR碼影像只能透過電腦解讀，在外觀上對於一般人不具任何意義。因此，其所提供的便利性並無法有效地帶來更多的商機。

為了吸引消費者掃描QR碼並提高產品的辨識度，市面上逐漸流行各式各樣的QR碼創意行銷，把各種不同的視覺元素如商標、文字、圖像等嵌入，創作出視覺化QR碼。

常見的視覺化QR碼設計，主要藉由改變QR碼中黑白方塊的形狀、顏色等方式來嵌入影像，或利用其內建的容錯機制，讓影像直接覆蓋QR碼部分區域。而為了設計後的QR碼仍能被電腦正確解讀，現有技術僅能套用在較簡單的影像上，例如單色的商標，對於複雜的彩色影像，無法有效保留原本的影像特徵。

為了使QR碼所帶來的經濟效益最大化，本文將介紹一種嶄新的視覺化QR碼設計，能把任何彩色影像以半色調藝術風格的呈現方式自然融入QR碼影像。有別於現有的技術，半色調QR碼不但能完全保留傳統QR碼的優點，如快速讀取、容錯機制，在視覺外觀上更能忠實呈現原始影像的內容，因而更能吸引民眾的目光。

QR碼的影像結構

一般QR碼影像呈正方形，主要由黑白兩色方塊（又稱為模組）組成，區分為資料與非資料模組。非資料模組區域包含在3個角落，以及內部印有較小像「回」字的正方圖案。這些圖案又稱為定位與校正標記，幫助解碼軟體定位，讓使用者不需精確對準QR碼以任何角度掃描，仍然可以正確讀取資料。此外，約有5％的模組用來記錄QR碼解碼時所需要的資訊，例如版本與格式。剩下的模組則是屬於資料模組，用來儲存使用者輸入的文字資訊，並提供修正錯誤的功能。

由於目前市面上解碼軟體的讀取能力很容易受到非資料模組影響，特別是定位用的圖案，因此一般的設計並不會更動非資料模組的外觀，改變的主要是資料模組所含括的影像範圍。

既然QR碼是一張平面影像，可以進一步透過影像邊緣黑白模組的數量來定義其解析度。最小張的QR碼，其版本號是1，解析度是21 21模組，每提高一個版本，邊緣上的模組個數便會增加4個，最大張的QR碼是版本40，解析度是177 177模組。由此可知，相較於一般動輒百萬像素的影像，QR碼影像所能利用的空間很有限，增加了設計視覺化QR碼的難度。

視覺化QR碼技術

目前，市面上設計視覺化QR碼的技術主要分成以下兩種類型。

首先是基於QR碼容錯機制的影像嵌入技術。QR碼容許影像中的資料模組在不同程度的損毀情況下，仍然保有原始資料的可讀性，共分為4個層級，包含L、M、Q、H，容錯量分別是7％、15％、25％、30％。這特性便可利用來設計視覺化QR碼，在容錯量容許範圍內，把影像直接覆蓋QR碼內部的資料模組，並藉由容錯機制復原遭破壞的資料模組。

這類技術最大的問題在於所產生的視覺化QR碼，視覺品質很容易受到編碼機制影響，同一個版本的QR碼，可利用的容錯量會直接限制使用者能輸入的文字訊息長度。換句話說，如果要嵌入大張的影像，必須在生成QR碼影像時使用較高的容錯量參數，因而限制了原本QR碼能儲存的訊息量。

改善方法是透過短網址轉址功能來彌補，但這會進一步把訊息內容局限在網址資訊。另一方面，由於部分的容錯模組已用來修復被影像覆蓋的資料模組，使所產生的視覺化QR碼較一般QR碼容易受到外在環境因素的影響，因而增加QR碼無法讀取的風險。

其次是基於更動QR碼模組外觀的影像嵌入技術。為了跳脫QR碼內部編碼的框架，目前主流技術在設計自動化演算法，運用電腦圖學以及電腦視覺技術，把輸入影像的像素與QR碼模組結合，在不破壞原始QR碼可讀性的前提下，產生近似輸入影像的視覺化QR碼。目前的研究先驅是以色列一家新創公司所研發的混色技術，主要利用像素與模組間的混色，藉由保持模組中心區域的像素顏色（黑或白），來確保最終QR碼的可讀性。

混色的方式固然能完全利用全部的資料模組來嵌入影像，但這是為了確保可讀性所做的讓步，仍無可避免地讓最終結果的視覺品質受到原始QR碼中分布雜亂無章的黑白模組所影響，大幅破壞了原始影像的內容。

現有技術的另外一個問題是，所產生的視覺化QR碼無法在遠距離觀看時呈現高品質銳利的影像，因而失去吸引消費者的先機。

半色調QR碼

有鑑於此，新的視覺化QR碼設計希望能把任意影像自然融入傳統QR碼中，且最後的外觀不會受到QR 碼內部編碼機制與隨機分布的模組外觀所影響，並能保留原本QR碼的可讀性並忠實呈現原始影像的內容。

要設計出美觀且吸引目光的視覺化QR碼，關鍵在於如何找到一種合適的影像呈現方式，外觀跟QR碼類似，使得影像僅需小幅度的更動，便能自然融入QR碼中。

數位影像印刷有一種特殊的半色調印刷，目的在於透過紙張上黑色與白色點分布的疏密程度來呈現灰階影像，利用減墨來降低印刷成本。半色調影像的黑白點結構，恰好與QR碼由黑白模組所組成的外觀相似。另一方面，半色調影像所呈現的視覺效果，其影像銳利與清晰度會隨著觀看距離變遠而顯著提升，民眾遠遠便能清楚地看到影像的內容。因此，半色調影像非常適合做為設計視覺化QR碼的基本元素。

然而如同前面所提到的，QR碼的解析度比一般影像低很多，如果把這QR碼的每一個模組視為一個影像的像素，則必須把影像縮小至跟QR碼一樣的解析度，導致破壞許多原始影像特徵。另外，QR碼模組通常呈現隨機分布，半色調影像的黑點分布則受到影像的灰階值影響，兩者間的差異使影像嵌入QR碼的難度增加。

針對QR碼解析度不足的問題，新的計算模型藉由把每一個QR碼模組在空間上分割成3 3個小格子（或稱為子模組）來提升解析度，每一個子模組可黑可白。如此，可以得到29種不同的排列組合，而把QR碼與半色調影像重疊在一起時，可以發現每一個模組內部的半色調影像結構必定屬於512種排列組合之一。

另一方面，為了降低QR碼模組的空間分布與半色調影像之間的關聯性，每一個模組中，只取位於中間的子模組做為儲存原本QR碼的資訊。換句話說，只需要用10％的影像空間來儲存QR碼資訊，剩餘的90％則可以用來呈現原始半色調影像。

根據上述的設定，把結合QR碼與半色調影像的問題視為一種拼圖的問題。也就是總共有512種拼圖，而每一個QR碼模組可以擺放一個拼圖，最終目的則是利用電腦與數值分析工具，拼湊出一張外觀與原始半色調影像相近，且保留原始QR碼可讀性的拼圖。

傳統半色調技術主要針對灰階影像處理，為了把半色調QR碼合成技術延伸到彩色影像。首先，把影像從RGB色彩模式轉換到印刷業使用的CMYK色彩模式，接著針對個別的單色通道合成半色調QR碼後再把結果合併，便能產生彩色風格的半色調 QR碼。更有趣的是，除了生成靜態的半色調QR碼外，也能把動態影像嵌入 QR碼。

隨著技術日新月異，視覺化QR碼將逐漸取代傳統QR碼，為QR碼注入吸引目光的視覺元素。而半色調 QR碼的設計更重新定義了視覺化QR碼的品質標準，將引領未來更多新穎有趣的視覺化QR碼設計。請讀者不要再遲疑了，拿起您的手機，一起探索文中半色調QR碼所帶來的驚喜。或者掃描彩色愛因斯坦的QR碼來進入專案網頁，並透過網頁中線上或單機版半色調
